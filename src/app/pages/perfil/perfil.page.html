<ion-header>
  <ion-toolbar>
    <ion-title>Perfil</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="perfilForm" (ngSubmit)="actualizarPerfil()">
    <ion-card>
      <ion-card-header>
        <ion-card-title>Perfil</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <ion-img [src]="perfilUsuario?.foto || 'assets/default-avatar.png'" class="profile-img"></ion-img>
        <ion-card-title>{{ perfilUsuario?.nombre }} {{ perfilUsuario?.apellidoPaterno }}</ion-card-title>
        <ion-card-subtitle>{{ perfilUsuario?.email }}</ion-card-subtitle>

        <ion-item>
          <ion-label position="floating">Nombre</ion-label>
          <ion-input formControlName="nombre" aria-label="Nombre"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Apellido Paterno</ion-label>
          <ion-input formControlName="apellidoPaterno" aria-label="Apellido Paterno"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Apellido Materno</ion-label>
          <ion-input formControlName="apellidoMaterno" aria-label="Apellido Materno"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Email</ion-label>
          <ion-input formControlName="email" aria-label="Email"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">RUT</ion-label>
          <ion-input formControlName="rut" aria-label="RUT"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Edad</ion-label>
          <ion-input type="number" formControlName="edad" aria-label="Edad"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Posición</ion-label>
          <ion-input formControlName="posicion" aria-label="Posición"></ion-input>
        </ion-item>

        <ion-button expand="full" (click)="tomarFoto()">Tomar Foto</ion-button>
        <ion-button expand="full" type="submit" [disabled]="!perfilForm.valid">Actualizar Perfil</ion-button>
      </ion-card-content>
    </ion-card>
  </form>
</ion-content>

<style>
  .profile-img {
    width: 100%;
    height: auto;
    border-radius: 50%;
    margin-bottom: 20px;
  }
</style>
